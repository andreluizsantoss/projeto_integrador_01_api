<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Perfil - SOS Sorocaba</title>
    <link rel="stylesheet" href="../V3/src/styles/forms.css">
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
</head>
<body>
    <div id="root"></div>
    <script type="text/babel">
        // Profile Component
        function Profile() {
            // Dados mockados de um paciente
            const patient = {
                id: 1,
                nome: "Jo√£o Silva Santos",
                idade: 45,
                documento: "123.456.789-00",
                sexo: "Masculino",
                data_nascimento: "1978-03-15",
                profissao: "Pedreiro",
                status: "Ativo",
                codigo_usuario: "JSS2024",
                morador_rua: true,
                estado_civil: "Solteiro"
            };

            const benefits = [
                { nome: "Aux√≠lio Brasil", description: "R$ 400,00 mensais" },
                { nome: "Vale G√°s", description: "R$ 120,00 bimestral" }
            ];

            const dependencies = [
                { nome: "√Ålcool", description: "Depend√™ncia moderada" }
            ];

            const activities = [
                { nome: "Oficina Profissionalizante", data: "2024-01-15" },
                { nome: "Kit Higiene", data: "2024-01-13" },
                { nome: "Distribui√ß√£o de Alimenta√ß√£o", data: "2024-01-12" }
            ];

            const formatDate = (dateString) => {
                if (!dateString) return '‚Äî';
                try {
                    return new Date(dateString).toLocaleDateString('pt-BR');
                } catch {
                    return '‚Äî';
                }
            };

            const renderList = (items, emptyMessage) => {
                if (!items || items.length === 0) {
                    return <li className="empty-item">{emptyMessage}</li>;
                }

                return items.map((item, index) => (
                    <li key={index} className="list-item">
                        <strong>{item.nome || item.description || item.name || 'Item'}</strong>
                        {item.description && <div style={{ fontSize: '0.9em', color: '#666', marginTop: '4px' }}>{item.description}</div>}
                        {item.data && (
                            <span className="item-date"> - {formatDate(item.data)}</span>
                        )}
                    </li>
                ));
            };

            return (
                <article>
                    <header className="profile-header">
                        <h1>Perfil: {patient.nome}</h1>
                        <div className="profile-actions">
                            <button className="btn-primary">
                                ‚úèÔ∏è Editar
                            </button>
                            <button onClick={() => window.print()} className="btn-secondary">
                                üñ®Ô∏è Imprimir
                            </button>
                        </div>
                    </header>

                    <section className="patient-info">
                        <h2>Informa√ß√µes Pessoais</h2>
                        <div className="info-grid">
                            <div className="info-card">
                                <label>ID:</label>
                                <span>{patient.id}</span>
                            </div>
                            <div className="info-card">
                                <label>Nome:</label>
                                <span>{patient.nome}</span>
                            </div>
                            <div className="info-card">
                                <label>Idade:</label>
                                <span>{patient.idade} anos</span>
                            </div>
                            <div className="info-card">
                                <label>Documento:</label>
                                <span>{patient.documento}</span>
                            </div>
                            <div className="info-card">
                                <label>Sexo:</label>
                                <span>{patient.sexo}</span>
                            </div>
                            <div className="info-card">
                                <label>Data de Nascimento:</label>
                                <span>{formatDate(patient.data_nascimento)}</span>
                            </div>
                            <div className="info-card">
                                <label>Profiss√£o:</label>
                                <span>{patient.profissao}</span>
                            </div>
                            <div className="info-card">
                                <label>Status:</label>
                                <span className={`status-badge ${patient.status?.toLowerCase()}`}>
                                    {patient.status}
                                </span>
                            </div>
                        </div>
                    </section>

                    <div className="details-grid">
                        <section className="detail-section">
                            <h2>üéÅ Benef√≠cios</h2>
                            <ul className="detail-list">
                                {renderList(benefits, 'Nenhum benef√≠cio cadastrado')}
                            </ul>
                        </section>

                        <section className="detail-section">
                            <h2>‚ö†Ô∏è Depend√™ncias</h2>
                            <ul className="detail-list">
                                {renderList(dependencies, 'Nenhuma depend√™ncia cadastrada')}
                            </ul>
                        </section>

                        <section className="detail-section full-width">
                            <h2>üèÉ Atividades Realizadas</h2>
                            <ul className="detail-list">
                                {renderList(activities, 'Nenhuma atividade registrada')}
                            </ul>
                        </section>
                    </div>
                </article>
            );
        }

        // Layout
        function Layout({ children }) {
            return (
                <>
                    <div className="headerContent">
                        <header>
                            <h1>SOS Sorocaba</h1>
                            <h4>Sistema de Gest√£o Social</h4>
                        </header>
                    </div>
                    <div className="mainContent">
                        <main>{children}</main>
                    </div>
                    <div className="footerContent">
                        <footer>
                            <h3>SOS Sorocaba</h3>
                            <h4>Plataforma de Assist√™ncia Social</h4>
                        </footer>
                    </div>
                </>
            );
        }

        function App() {
            return (
                <Layout>
                    <Profile />
                </Layout>
            );
        }

        ReactDOM.render(<App />, document.getElementById('root'));
    </script>
</body>
</html>